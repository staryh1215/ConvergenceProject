# Particle 
ref.[Making of Curling Particles](https://www.youtube.com/watch?v=-pSbrYnRRSs&list=PLW1_6xRXJRNn7BCvnOpezgSeubO1DynYO&index=38&ab_channel=CGKnight) 

![Swirl_particle](https://user-images.githubusercontent.com/90232599/140743910-9a4201d5-01bb-4b95-9e11-fd6e14276a5e.jpg)
![side](https://user-images.githubusercontent.com/90232599/140743929-75977253-d8e5-4a5a-9fb6-7ee26fb04553.jpg)

<br/>
<br/>

# NODE    

![node](https://user-images.githubusercontent.com/90232599/140743998-18149d5b-ac93-4afb-9784-1f192bea08ab.jpg)   

<br/>

### SOP(Geometry) networks
obj 레벨의 지오메트리는 그 안에 SOP 네트워크를 포함하고 있음. 이 SOP 네트워크는 물체의 구조를 만들어내는 지오메트리 노드들을 포함함.  

관련 노드: Attribute create, Attribute VOP, Attribute Wrangle, Merge, Null, RBD Bullet Solver 등

<br/>

1. **Attribute VOP**
지오메트리의 어트리뷰트를 수정하는 노드 (어트리뷰트: 지오메트리 구성 요소인 점, 선, 면이 갖고 있는 속성 값)   
Attribute VOP 노드를 더블클릭 해 그 안에 VOP 네트워크를 만들어낼 수 있다. 
[사용되는 VOP 네트워크 노드들](https://www.sidefx.com/docs/houdini/nodes/vop/index.html)     
<br/> 

- [**aanoise**(Anti-Aliased Noise) VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/aanoise.html)  
입력된 pos 값에서 파생된 정보를 사용하여 alias 되지 않는 노이즈를 만들어냄. (alias: 하나의 프로그램에서 동일한 기억 장소를 참조하는 변수에 둘 이상의 이름이 붙은 것. 두 개 이상의 변수라고 생각하면 될 듯)    
shading에 사용됨   
파라미터 상의 거친 정도는 노이즈의 거친 정도를 결정하고, maxoctoaves 파라미터는 노이즈의 반복 횟수를 제한함    
amplitude(진폭?) 파라미터는 최종 노이즈의 크기를 결정짓는 요소. 노이즈의 최종 아웃풋 디폴트 범위는 -0.5 ~ 0.5    
어떤 노이즈라도 만들어내기 위해서는 pos에 인풋이 연결되어 있어야 함. 대개 다른 노드의 P 값을 aanoise의 pos로 연결시킴.   
Rest Position VOP나 Transform VOP를 사용해서 수정하거나 고정시킬 수 있음    
noise의 output을 Color Mix bias나 Displace Along Normal에 연결해서 흥미로운 결과값을 얻을 수도 있음. 다양한 방식으로 활용이 가능함   


- [**Curl Noise** VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/curlnoise.html)  
기존의 Perlin Noise에 Curl 함수를 적용시켜서 발산하는 3D 노이즈를 만들어내는 노드. 노이즈가 주어진 오브젝트의 주위로 흐를 수 있게 만들어준다.    
(아웃풋이 4D 노이즈인 경우, Perlin Noise만이 사용되고 Noise type 파라미터는 사용X)     




- [**Vector To Vector4** VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/vectohvec.html)

- [**Bind** VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/bind.html)

- [**Parm**(Parameter) VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/parameter.html)

- [**Fit**(Fit Range) VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/fit.html)

- [**Ramp**(Ramp Parameter) VOP node](https://www.sidefx.com/docs/houdini/nodes/vop/rampparm.html)


2. **Attribute Wrangle**   

```VEXpression
[VEXpression]   
float u = @age / @life;   
vector color1 = chramp("color1",u);   
vector color2 = chramp("color2",u);   
@Cd = lerp(color1,color2,@bias);   
@pscale = ch("scale") + chramp("scale_ramp",u);   
``` 
 

### TOP(Task) nodes
TOP 노드에는 네 가지 유형이 있음.     
1) work item(작업 항목?)을 만들어내는 프로세서     
2) work item의 기능을 수행하는 스케줄러 
3) 입력되는 work item들을 결합시키는 파티셔너
4) 관련이 없는 work item들이라 해도 그 사이에 종송석을 만들어주는 매퍼.   

TOP노드 네트워크를 사용하면, work item을 실행하고, work item들을 묶어 네트워크를 만들어내고, 효율적으로 작동시킬 수 있는 방법을 알아낼 수 있음. 이 방법을 PDG(Procedural Dependency Graph)라고 함. 

후디니는 디폴트 task 네트워크(topnet1)을 tasks에 만들어내고, 디폴트 스케쥴러(localscheduler)는 /tasks/topent1에 만들어놓음. 당연히 씬의 모든 레벨에서 독립적인 TOP 네트워크를 만들 수도 있음. 

관련 노드: merge, partition, ROP, Sort 등 




![Calc_Den](https://user-images.githubusercontent.com/90232599/140744562-63c713b3-dd59-4f3d-a5f5-910a6b4c0873.jpg)   


![displace](https://user-images.githubusercontent.com/90232599/140744619-688a5850-a60f-418d-9de8-e9db023caf78.jpg)   


![Volumevop](https://user-images.githubusercontent.com/90232599/140744646-1cad9444-8887-4089-8b90-35c6e3aa5e6a.jpg)   


![popnet](https://user-images.githubusercontent.com/90232599/140744682-3d80ad1e-6b89-4af2-94bd-def158032ae5.jpg)   
 
 
![calc_bias](https://user-images.githubusercontent.com/90232599/140744694-c684b263-77ab-4b5f-a363-dbfd70c9bb46.jpg)   



